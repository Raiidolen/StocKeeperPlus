{"openapi":"3.0.0","info":{"title":"API","version":"1.0.0"},"paths":{"/food":{"post":{"tags":["Food"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodToAddSchema"}}}},"responses":{"201":{"description":"food created","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"}}}}}},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"500":{"description":"Error server"}}},"patch":{"tags":["Food"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodToUpdateSchema"}}}},"responses":{"204":{"description":"food updated"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"500":{"description":"Error server"}}},"delete":{"tags":["Food"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FoodIDSchema"}}}},"responses":{"204":{"description":"food deleted"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"404":{"description":"food not found"},"500":{"description":"Error server"}}}},"/food/get/{id}":{"get":{"tags":["Food"],"parameters":[{"in":"path","name":"id","schema":{"$ref":"#/components/schemas/FoodIDSchema"},"required":true,"description":"Numeric ID of the food to get"}],"responses":{"200":{"description":"food found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Food"}}}},"400":{"description":"the error(s) described"},"404":{"description":"food not found"},"500":{"description":"Error server"}}}},"/food/barcode/{barcode}":{"get":{"tags":["Food"],"parameters":[{"in":"path","name":"barcode","schema":{"$ref":"#/components/schemas/FoodBarcodeSchema"},"required":true,"description":"Barcode of the food"}],"responses":{"200":{"description":"food found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Food"}}}},"400":{"description":"the error(s) described"},"404":{"description":"food not found"},"500":{"description":"Error server"}}}},"/food/all":{"get":{"tags":["Food"],"responses":{"200":{"description":"list of foods","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Food"}}}}},"500":{"description":"Error server"}}}}},"components":{"schemas":{"FoodIDSchema":{"type":"object","properties":{"id":{"type":"integer"}},"required":["id"]},"FoodToAddSchema":{"type":"object","properties":{"label":{"type":"string"},"diet":{"type":"string"},"nutriscore":{"type":"string","maxLength":1,"pattern":"^[A-Ea-e]$"},"measuringunit":{"type":"string"},"barcode":{"type":"string","pattern":"^(?:\\d{8}|\\d{13})$"}},"required":["label","measuringunit","barcode"]},"FoodToUpdateSchema":{"type":"object","properties":{"id":{"type":"integer"},"label":{"type":"string"},"diet":{"type":"string"},"nutriscore":{"type":"string","maxLength":1,"pattern":"^[A-Ea-e]$"},"measuringunit":{"type":"string"},"barcode":{"type":"string","pattern":"^(?:\\d{8}|\\d{13})$"},"imagepath":{"type":"string"}},"required":["id","barcode"]},"FoodBarcodeSchema":{"type":"object","properties":{"barcode":{"type":"string","pattern":"^(?:\\d{8}|\\d{13})$"}},"required":["barcode"]},"Food":{"type":"object","properties":{"id":{"type":"integer","example":1},"label":{"type":"string","example":"Pâtes complètes"},"diet":{"type":"string","nullable":true,"example":"vegetarien"},"nutriscore":{"type":"string","nullable":true,"maxLength":1,"example":"A"},"measuringunit":{"type":"string","example":"gram"},"barcode":{"type":"string","example":"1234567890123"},"imagepath":{"type":"string","nullable":true,"example":"/images/default.jpg"}}}},"responses":{"UnauthorizedError":{"description":"Access token is missing or invalid","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Unauthorized"}}}}}}}},"tags":[]}